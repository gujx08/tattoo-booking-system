<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Configuration Check</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .check-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .result { background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 3px; }
        .success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .info { background: #d1ecf1; border: 1px solid #bee5eb; color: #0c5460; }
        pre { background: #f8f9fa; padding: 10px; border-radius: 3px; overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; margin: 10px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>üöÄ Live Configuration Check</h1>
    
    <div class="check-section">
        <h3>Payment Links Configuration</h3>
        <div id="paymentLinksResult" class="result"></div>
    </div>

    <div class="check-section">
        <h3>EmailJS Configuration</h3>
        <div id="emailjsResult" class="result"></div>
    </div>

    <div class="check-section">
        <h3>Environment Detection</h3>
        <div id="environmentResult" class="result"></div>
    </div>

    <script>
        // Payment LinksÈÖçÁΩÆ
        const STRIPE_PAYMENT_LINKS = {
          'jing': 'https://buy.stripe.com/00w6oHgLY6Zf5WW45Gfw400',
          'rachel': 'https://buy.stripe.com/3cIeVd8fsabr0CC31Cfw401',
          'jasmine': 'https://buy.stripe.com/3cIeVd8fsabr0CC31Cfw401',
          'lauren': 'https://buy.stripe.com/3cIeVd8fsabr0CC31Cfw401',
          'annika': 'https://buy.stripe.com/3cIeVd8fsabr0CC31Cfw401',
          'maili': 'https://buy.stripe.com/00w5kD9jwerH9988lWfw402',
          'keani': 'https://buy.stripe.com/00w5kD9jwerH9988lWfw402'
        };

        const ARTIST_DEPOSITS = {
          'jing': 300,
          'rachel': 100,
          'jasmine': 100,
          'lauren': 100,
          'annika': 100,
          'maili': 50,
          'keani': 50,
        };

        const ARTIST_NAMES = {
          'jing': 'Jing (Jingxi Gu)',
          'rachel': 'Rachel Hong',
          'jasmine': 'Jasmine Hsueh (Jas)',
          'lauren': 'Lauren Hacaga',
          'annika': 'Annika Riggins',
          'maili': 'Maili Cohen',
          'keani': 'Keani Chavez'
        };

        // EmailJSÈÖçÁΩÆ
        const EMAILJS_CONFIG = {
            serviceId: 'service_lp4pjsb',
            publicKey: 'ct8snDhw429TxbuI_',
            templates: {
                bookingDraft: 'template_26uphex'
            }
        };

        function checkPaymentLinks() {
            const result = document.getElementById('paymentLinksResult');
            let html = '<h4>Payment Links Status:</h4>';
            
            const artists = Object.keys(STRIPE_PAYMENT_LINKS);
            let allValid = true;
            
            html += '<table>';
            html += '<tr><th>Artist</th><th>Deposit</th><th>Payment Link</th><th>Status</th></tr>';
            
            artists.forEach(artistId => {
                const link = STRIPE_PAYMENT_LINKS[artistId];
                const deposit = ARTIST_DEPOSITS[artistId];
                const name = ARTIST_NAMES[artistId];
                
                const isValid = link && link.includes('buy.stripe.com') && !link.includes('test');
                const status = isValid ? '‚úÖ Live' : '‚ùå Invalid';
                
                if (!isValid) allValid = false;
                
                html += `<tr>
                    <td>${name}</td>
                    <td>$${deposit}</td>
                    <td><code>${link}</code></td>
                    <td>${status}</td>
                </tr>`;
            });
            
            html += '</table>';
            
            if (allValid) {
                html += '<div class="success">‚úÖ All Payment Links are Live and valid!</div>';
            } else {
                html += '<div class="error">‚ùå Some Payment Links are invalid!</div>';
            }
            
            result.innerHTML = html;
        }

        function checkEmailJS() {
            const result = document.getElementById('emailjsResult');
            let html = '<h4>EmailJS Configuration:</h4>';
            
            const config = EMAILJS_CONFIG;
            const isValid = config.serviceId && config.publicKey && config.templates.bookingDraft;
            
            html += `<p><strong>Service ID:</strong> ${config.serviceId}</p>`;
            html += `<p><strong>Public Key:</strong> ${config.publicKey}</p>`;
            html += `<p><strong>Template ID:</strong> ${config.templates.bookingDraft}</p>`;
            html += `<p><strong>Admin Email:</strong> info@patchtattootherapy.com</p>`;
            
            if (isValid) {
                html += '<div class="success">‚úÖ EmailJS configuration is valid!</div>';
            } else {
                html += '<div class="error">‚ùå EmailJS configuration is invalid!</div>';
            }
            
            result.innerHTML = html;
        }

        function checkEnvironment() {
            const result = document.getElementById('environmentResult');
            let html = '<h4>Environment Detection:</h4>';
            
            const hostname = window.location.hostname;
            const isLocalhost = hostname === 'localhost' || hostname.includes('127.0.0.1');
            const isProduction = hostname === 'booking.patchtattootherapy.com';
            
            html += `<p><strong>Current Hostname:</strong> ${hostname}</p>`;
            html += `<p><strong>Environment:</strong> ${isLocalhost ? 'Development' : isProduction ? 'Production' : 'Unknown'}</p>`;
            html += `<p><strong>Payment Links Mode:</strong> ${isLocalhost ? 'Test Mode' : 'Live Mode'}</p>`;
            
            if (isProduction) {
                html += '<div class="success">‚úÖ Production environment detected - Live Payment Links will be used!</div>';
            } else if (isLocalhost) {
                html += '<div class="info">‚ÑπÔ∏è Development environment detected - Test Payment Links will be used.</div>';
            } else {
                html += '<div class="error">‚ö†Ô∏è Unknown environment - please check configuration.</div>';
            }
            
            result.innerHTML = html;
        }

        // ÊâßË°åÊâÄÊúâÊ£ÄÊü•
        checkPaymentLinks();
        checkEmailJS();
        checkEnvironment();
    </script>
</body>
</html>
